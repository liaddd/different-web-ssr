{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar __jsx = React.createElement;\nimport React, { Component, Fragment } from \"react\";\nimport { connect } from \"react-redux\";\nimport Link from \"next/link\";\nimport ChevronDown from \"./../../public/icons/chevron-down-icon.svg\";\nimport HeaderActions from \"../../actions/header/header.actions\";\nimport UserActions from \"../../actions/users/users.actions\";\nimport { logout } from \"../../actions/common/common.actions\";\n\nvar Account =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Account, _Component);\n\n  function Account(props) {\n    var _this;\n\n    _classCallCheck(this, Account);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Account).call(this, props));\n    _this.setWrapperRef = _this.setWrapperRef.bind(_assertThisInitialized(_this));\n    _this.handleClickOutside = _this.handleClickOutside.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Account, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      document.addEventListener(\"mousedown\", this.handleClickOutside);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener(\"mousedown\", this.handleClickOutside);\n    }\n    /**\n     * Set the wrapper ref\n     */\n\n  }, {\n    key: \"setWrapperRef\",\n    value: function setWrapperRef(node) {\n      this.wrapperRef = node;\n    }\n    /**\n     * handleClickOutside detect if clicked on outside of element\n     */\n\n  }, {\n    key: \"handleClickOutside\",\n    value: function handleClickOutside(event) {\n      if (this.wrapperRef && !this.wrapperRef.contains(event.target)) {\n        this.props.onSetToggleMenu(false);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          firsName = _this$props.firsName,\n          lastName = _this$props.lastName;\n      return __jsx(Fragment, null, __jsx(\"div\", {\n        className: \"drop-menu-block\",\n        ref: this.setWrapperRef\n      }, __jsx(\"button\", {\n        className: \"btn btn-white btn-medium\",\n        onClick: function onClick() {\n          _this2.props.onSetToggleMenu(!_this2.props.toggleMenu);\n        }\n      }, firsName, \" \", lastName, __jsx(\"img\", {\n        src: ChevronDown,\n        className: \"icon-chevron-down\",\n        alt: \"\"\n      })), this.props.toggleMenu ? __jsx(\"nav\", {\n        className: \"drop-menu\"\n      }, __jsx(Link, {\n        href: \"/signin\"\n      }, __jsx(\"a\", {\n        onClick: function onClick() {\n          _this2.props.onLogout();\n\n          localStorage.clear();\n        },\n        className: \"drop-menu-link\"\n      }, __jsx(\"span\", {\n        className: \"icon icon-avatar\"\n      }), \"\\u05DE\\u05E9\\u05EA\\u05DE\\u05E9 \\u05D7\\u05D3\\u05E9\")), __jsx(Link, {\n        href: \"/\"\n      }, __jsx(\"a\", {\n        onClick: function onClick() {\n          _this2.props.onLogout();\n\n          localStorage.clear();\n        },\n        className: \"drop-menu-link\"\n      }, __jsx(\"span\", {\n        className: \"icon icon-cog\"\n      }), \"\\u05D4\\u05EA\\u05E0\\u05EA\\u05E7\"))) : null));\n    }\n  }]);\n\n  return Account;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    toggleMenu: state.header.toggleMenu,\n    userAuth: state.user.auth,\n    firsName: state.user.first_name,\n    lastName: state.user.last_name\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    onSetToggleMenu: function onSetToggleMenu(action) {\n      dispatch(HeaderActions.accountMenuToggle(action));\n    },\n    setUserData: function setUserData(action) {\n      dispatch(UserActions.setUserData(action));\n    },\n    onLogout: function onLogout(action) {\n      dispatch(logout(action));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Account);","map":{"version":3,"sources":["/Users/liadhorovitz/Desktop/SSR-different-web/components/Account/Account.component.js"],"names":["React","Component","Fragment","connect","Link","ChevronDown","HeaderActions","UserActions","logout","Account","props","setWrapperRef","bind","handleClickOutside","document","addEventListener","removeEventListener","node","wrapperRef","event","contains","target","onSetToggleMenu","firsName","lastName","toggleMenu","onLogout","localStorage","clear","mapStateToProps","state","header","userAuth","user","auth","first_name","last_name","mapDispatchToProps","dispatch","action","accountMenuToggle","setUserData"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from \"react\";\nimport { connect } from \"react-redux\";\nimport Link from \"next/link\";\n\nimport ChevronDown from \"./../../public/icons/chevron-down-icon.svg\";\nimport HeaderActions from \"../../actions/header/header.actions\";\nimport UserActions from \"../../actions/users/users.actions\";\nimport { logout } from \"../../actions/common/common.actions\";\n\nclass Account extends Component {\n  constructor(props) {\n    super(props);\n\n    this.setWrapperRef = this.setWrapperRef.bind(this);\n    this.handleClickOutside = this.handleClickOutside.bind(this);\n  }\n\n  componentDidMount() {\n    document.addEventListener(\"mousedown\", this.handleClickOutside);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"mousedown\", this.handleClickOutside);\n  }\n  /**\n   * Set the wrapper ref\n   */\n  setWrapperRef(node) {\n    this.wrapperRef = node;\n  }\n\n  /**\n   * handleClickOutside detect if clicked on outside of element\n   */\n  handleClickOutside(event) {\n    if (this.wrapperRef && !this.wrapperRef.contains(event.target)) {\n      this.props.onSetToggleMenu(false);\n    }\n  }\n\n  render() {\n    const { firsName, lastName } = this.props;\n    return (\n      <Fragment>\n        <div className=\"drop-menu-block\" ref={this.setWrapperRef}>\n          <button\n            className=\"btn btn-white btn-medium\"\n            onClick={() => {\n              this.props.onSetToggleMenu(!this.props.toggleMenu);\n            }}\n          >\n            {firsName} {lastName}\n            <img src={ChevronDown} className=\"icon-chevron-down\" alt=\"\" />\n          </button>\n          {this.props.toggleMenu ? (\n            <nav className=\"drop-menu\">\n              <Link href=\"/signin\">\n                <a\n                  onClick={() => {\n                    this.props.onLogout();\n                    localStorage.clear();\n                  }}\n                  className=\"drop-menu-link\"\n                >\n                  <span className=\"icon icon-avatar\"></span>\n                  משתמש חדש\n                </a>\n              </Link>\n\n              <Link href=\"/\">\n                <a\n                  onClick={() => {\n                    this.props.onLogout();\n                    localStorage.clear();\n                  }}\n                  className=\"drop-menu-link\"\n                >\n                  <span className=\"icon icon-cog\"></span>\n                  התנתק\n                </a>\n              </Link>\n            </nav>\n          ) : null}\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    toggleMenu: state.header.toggleMenu,\n    userAuth: state.user.auth,\n    firsName: state.user.first_name,\n    lastName: state.user.last_name\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onSetToggleMenu: action => {\n      dispatch(HeaderActions.accountMenuToggle(action));\n    },\n    setUserData: action => {\n      dispatch(UserActions.setUserData(action));\n    },\n    onLogout: action => {\n      dispatch(logout(action));\n    }\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Account);\n"]},"metadata":{},"sourceType":"module"}
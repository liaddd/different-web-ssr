{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\nimport React, { Component, Fragment } from \"react\";\nimport { connect } from \"react-redux\";\nimport cn from \"classnames\";\nimport { get } from \"lodash\";\nimport \"./../Authorization.scss\";\nimport Api from \"../../../utils/requestClient/requests\";\nimport UserActions from \"../../../actions/users/users.actions\";\nimport Router from \"next/router\";\nimport { setCookie } from \"../../../utils/cookie\";\n\nclass AuthorizationStep2 extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"state\", {\n      seconds: 59,\n      error: void 0\n    });\n\n    _defineProperty(this, \"onSubmitForm\", e => {\n      e.preventDefault();\n\n      if (this.state.seconds === 0) {\n        return;\n      }\n\n      const {\n        code1,\n        code2,\n        code3,\n        code4\n      } = this;\n      const code = `${code1.value}${code2.value}${code3.value}${code4.value}`;\n      const requestData = {\n        phone: this.props.user.phone,\n        code,\n        fcm_token: \"someKey\"\n      };\n      this.stopTimer();\n      this.props.onSetUserData({\n        showModal: true\n      });\n      Api.auth(requestData).then(data => {\n        data.data.showModal = false;\n        setCookie(\"global_token\", data.data.auth.global_token);\n        this.props.onSetUserData(data.data);\n\n        if (this.props.user.showStepsAfterLogin) {\n          Router.push(\"/personal-info\");\n        } else {\n          Router.push(\"/\");\n        }\n      }).catch(err => {\n        this.code1 = React.createRef();\n        this.code2 = React.createRef();\n        this.code3 = React.createRef();\n        this.code4 = React.createRef();\n\n        if (get(err, \"response.data.errorCode\") === \"BLOCKED_USER\") {\n          this.props.hendleBlockUser();\n        }\n\n        this.props.onSetUserData({\n          showModal: false\n        });\n        this.setState({\n          error: err.toString()\n        });\n      });\n    });\n\n    _defineProperty(this, \"onChange\", e => {\n      if (e.target.value) {\n        this.onSubmitForm(e);\n        this.code4.focus();\n      }\n    });\n\n    this.code1 = React.createRef();\n    this.code2 = React.createRef();\n    this.code3 = React.createRef();\n    this.code4 = React.createRef();\n    this.startTimer = this.startTimer.bind(this);\n    this.stopTimer = this.stopTimer.bind(this);\n    this.countDown = this.countDown.bind(this);\n  }\n\n  componentDidMount() {\n    this.startTimer();\n  } // startTimer\n\n\n  startTimer() {\n    this.timer = setInterval(this.countDown, 1000);\n  } // stopTimer\n\n\n  stopTimer() {\n    if (this.timer) clearInterval(this.timer);\n  } // countDown\n\n\n  countDown() {\n    const {\n      onSetUserData\n    } = this.props; // if (this.state.seconds === 0) {\n    //     onSetUserData({successMessage: null})\n    // }\n    // Remove one second, set state so a re-render happens.\n\n    let seconds = this.state.seconds - 1;\n\n    if (seconds !== 0) {\n      this.setState({\n        seconds: seconds\n      });\n    } else {\n      this.stopTimer();\n      this.setState(prevState => {\n        return {\n          seconds: 0\n        };\n      });\n      onSetUserData({\n        successMessage: null\n      });\n    }\n  } // componentWillUnmount\n\n\n  componentWillUnmount() {\n    this.stopTimer();\n  }\n\n  get checkCode() {\n    const {\n      code1,\n      code2,\n      code3,\n      code4\n    } = this;\n    return code1.value && code2.value && code3.value && code4.value;\n  } // onSubmitForm is action to submit form\n\n\n  render() {\n    return __jsx(Fragment, null, __jsx(\"div\", {\n      className: \"authorization-block\"\n    }, __jsx(\"div\", {\n      className: \"authorization-block-form\"\n    }, __jsx(\"div\", {\n      className: \"authorization-block-title\"\n    }, __jsx(\"div\", {\n      className: \"authorization-title\"\n    }, \"\\u05D4\\u05D6\\u05DF \\u05D0\\u05EA \\u05D4\\u05E7\\u05D5\\u05D3 \\u05E9\\u05E7\\u05D9\\u05D1\\u05DC\\u05EA\"), __jsx(\"div\", {\n      className: \"authorization-subtitle\"\n    }, \"\\u05D1SMS \\u05DC\\u05DE\\u05E1\\u05E4\\u05E8 \", __jsx(\"span\", {\n      dir: \"ltr\"\n    }, this.props.user.phone))), __jsx(\"form\", {\n      className: \"authorization-form\",\n      id: \"authorization-form\",\n      onSubmit: e => this.onSubmitForm(e),\n      noValidate: true\n    }, __jsx(\"div\", {\n      className: \"authorization-block-input\",\n      dir: \"ltr\"\n    }, __jsx(\"input\", {\n      className: \"authorization-input-number input-number authorization-input\",\n      type: \"number\",\n      autoFocus: true,\n      ref: node => this.code1 = node,\n      onChange: () => {\n        this.code2.focus();\n      }\n    }), __jsx(\"input\", {\n      className: \"authorization-input-number input-number authorization-input\",\n      type: \"number\",\n      ref: node => this.code2 = node,\n      onChange: () => {\n        this.code3.focus();\n      }\n    }), __jsx(\"input\", {\n      className: \"authorization-input-number input-number authorization-input\",\n      type: \"number\",\n      ref: node => this.code3 = node,\n      onChange: () => {\n        this.code4.focus();\n      }\n    }), __jsx(\"input\", {\n      className: \"authorization-input-number input-number authorization-input\",\n      type: \"number\",\n      ref: node => this.code4 = node,\n      onChange: e => this.onChange(e)\n    }), this.state.error ? __jsx(\"span\", {\n      className: \"authorization-input-error\"\n    }, \"\\u05E7\\u05D5\\u05D3 \\u05E9\\u05D2\\u05D5\\u05D9\") : null), __jsx(\"div\", {\n      className: \"authorization-block-description\"\n    }, \"\\u05DC\\u05D0 \\u05D4\\u05D2\\u05D9\\u05E2? \\u05EA\\u05D5\\u05DB\\u05DC \\u05DC\\u05E9\\u05DC\\u05D5\\u05D7 \\u05E9\\u05D5\\u05D1 \\u05D1\\u05D7\\u05DC\\u05D5\\u05E3 \\u05D3\\u05E7\\u05D4\"), __jsx(\"div\", {\n      className: \"authorization-block-submit\"\n    }, __jsx(\"input\", {\n      className: cn({\n        \"authorization-timer-submit\": true,\n        \"input-submit\": true,\n        \"btn-grey\": this.state.seconds === 0,\n        \"btn-blue\": this.state.seconds !== 0,\n        \"btn-normal\": true,\n        \"btn-bold\": true\n      }),\n      id: \"authorization-timer-submit\",\n      type: \"submit\",\n      value: this.checkCode ? \"שליחה\" : `00:${this.state.seconds > 9 ? this.state.seconds : `0${this.state.seconds}`}`\n    }))))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  user: state.user\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    onSetUserData: action => {\n      dispatch(UserActions.setUserData(action));\n    }\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AuthorizationStep2);","map":{"version":3,"sources":["/Users/liadhorovitz/Desktop/SSR-different-web/pages/signin/Authorization/AuthorizationStep2.js"],"names":["React","Component","Fragment","connect","cn","get","Api","UserActions","Router","setCookie","AuthorizationStep2","constructor","props","seconds","error","e","preventDefault","state","code1","code2","code3","code4","code","value","requestData","phone","user","fcm_token","stopTimer","onSetUserData","showModal","auth","then","data","global_token","showStepsAfterLogin","push","catch","err","createRef","hendleBlockUser","setState","toString","target","onSubmitForm","focus","startTimer","bind","countDown","componentDidMount","timer","setInterval","clearInterval","prevState","successMessage","componentWillUnmount","checkCode","render","node","onChange","mapStateToProps","mapDispatchToProps","dispatch","action","setUserData"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from \"react\";\nimport { connect } from \"react-redux\";\nimport cn from \"classnames\";\nimport { get } from \"lodash\";\nimport \"./../Authorization.scss\";\nimport Api from \"../../../utils/requestClient/requests\";\nimport UserActions from \"../../../actions/users/users.actions\";\nimport Router from \"next/router\";\nimport { setCookie } from \"../../../utils/cookie\";\nclass AuthorizationStep2 extends Component {\n  state = {\n    seconds: 59,\n    error: void 0\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.code1 = React.createRef();\n    this.code2 = React.createRef();\n    this.code3 = React.createRef();\n    this.code4 = React.createRef();\n\n    this.startTimer = this.startTimer.bind(this);\n    this.stopTimer = this.stopTimer.bind(this);\n\n    this.countDown = this.countDown.bind(this);\n  }\n\n  componentDidMount() {\n    this.startTimer();\n  }\n\n  // startTimer\n  startTimer() {\n    this.timer = setInterval(this.countDown, 1000);\n  }\n\n  // stopTimer\n  stopTimer() {\n    if (this.timer) clearInterval(this.timer);\n  }\n\n  // countDown\n  countDown() {\n    const { onSetUserData } = this.props;\n    // if (this.state.seconds === 0) {\n    //     onSetUserData({successMessage: null})\n    // }\n    // Remove one second, set state so a re-render happens.\n    let seconds = this.state.seconds - 1;\n\n    if (seconds !== 0) {\n      this.setState({\n        seconds: seconds\n      });\n    } else {\n      this.stopTimer();\n\n      this.setState(prevState => {\n        return { seconds: 0 };\n      });\n\n      onSetUserData({ successMessage: null });\n    }\n  }\n\n  // componentWillUnmount\n  componentWillUnmount() {\n    this.stopTimer();\n  }\n  get checkCode() {\n    const { code1, code2, code3, code4 } = this;\n    return code1.value && code2.value && code3.value && code4.value;\n  }\n  // onSubmitForm is action to submit form\n  onSubmitForm = e => {\n    e.preventDefault();\n    if (this.state.seconds === 0) {\n      return;\n    }\n    const { code1, code2, code3, code4 } = this;\n    const code = `${code1.value}${code2.value}${code3.value}${code4.value}`;\n\n    const requestData = {\n      phone: this.props.user.phone,\n      code,\n      fcm_token: \"someKey\"\n    };\n\n    this.stopTimer();\n    this.props.onSetUserData({ showModal: true });\n\n    Api.auth(requestData)\n      .then(data => {\n        data.data.showModal = false;\n        setCookie(\"global_token\", data.data.auth.global_token);\n        this.props.onSetUserData(data.data);\n        if (this.props.user.showStepsAfterLogin) {\n          Router.push(\"/personal-info\");\n        } else {\n          Router.push(\"/\");\n        }\n      })\n      .catch(err => {\n        this.code1 = React.createRef();\n        this.code2 = React.createRef();\n        this.code3 = React.createRef();\n        this.code4 = React.createRef();\n        if (get(err, \"response.data.errorCode\") === \"BLOCKED_USER\") {\n          this.props.hendleBlockUser();\n        }\n        this.props.onSetUserData({ showModal: false });\n        this.setState({ error: err.toString() });\n      });\n  };\n\n  onChange = e => {\n    if (e.target.value) {\n      this.onSubmitForm(e);\n      this.code4.focus();\n    }\n  };\n\n  render() {\n    return (\n      <Fragment>\n        <div className=\"authorization-block\">\n          <div className=\"authorization-block-form\">\n            <div className=\"authorization-block-title\">\n              <div className=\"authorization-title\">הזן את הקוד שקיבלת</div>\n              <div className=\"authorization-subtitle\">\n                בSMS למספר <span dir=\"ltr\">{this.props.user.phone}</span>\n              </div>\n            </div>\n            <form\n              className=\"authorization-form\"\n              id=\"authorization-form\"\n              onSubmit={e => this.onSubmitForm(e)}\n              noValidate\n            >\n              <div className=\"authorization-block-input\" dir=\"ltr\">\n                <input\n                  className=\"authorization-input-number input-number authorization-input\"\n                  type=\"number\"\n                  autoFocus\n                  ref={node => (this.code1 = node)}\n                  onChange={() => {\n                    this.code2.focus();\n                  }}\n                />\n                <input\n                  className=\"authorization-input-number input-number authorization-input\"\n                  type=\"number\"\n                  ref={node => (this.code2 = node)}\n                  onChange={() => {\n                    this.code3.focus();\n                  }}\n                />\n                <input\n                  className=\"authorization-input-number input-number authorization-input\"\n                  type=\"number\"\n                  ref={node => (this.code3 = node)}\n                  onChange={() => {\n                    this.code4.focus();\n                  }}\n                />\n                <input\n                  className=\"authorization-input-number input-number authorization-input\"\n                  type=\"number\"\n                  ref={node => (this.code4 = node)}\n                  onChange={e => this.onChange(e)}\n                />\n                {this.state.error ? (\n                  <span className=\"authorization-input-error\">קוד שגוי</span>\n                ) : null}\n              </div>\n              <div className=\"authorization-block-description\">\n                לא הגיע? תוכל לשלוח שוב בחלוף דקה\n              </div>\n              <div className=\"authorization-block-submit\">\n                <input\n                  className={cn({\n                    \"authorization-timer-submit\": true,\n                    \"input-submit\": true,\n                    \"btn-grey\": this.state.seconds === 0,\n                    \"btn-blue\": this.state.seconds !== 0,\n                    \"btn-normal\": true,\n                    \"btn-bold\": true\n                  })}\n                  id=\"authorization-timer-submit\"\n                  type=\"submit\"\n                  value={\n                    this.checkCode\n                      ? \"שליחה\"\n                      : `00:${\n                          this.state.seconds > 9\n                            ? this.state.seconds\n                            : `0${this.state.seconds}`\n                        }`\n                  }\n                />\n              </div>\n            </form>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  user: state.user\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    onSetUserData: action => {\n      dispatch(UserActions.setUserData(action));\n    }\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(AuthorizationStep2);\n"]},"metadata":{},"sourceType":"module"}
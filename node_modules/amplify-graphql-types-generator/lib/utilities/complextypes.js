"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const graphql_1 = require("graphql");
const S3_FIELD_NAMES = ['bucket', 'key', 'region', 'localUri', 'mimeType'];
function hasS3Fields(input) {
    if (graphql_1.isObjectType(input) || graphql_1.isInputObjectType(input)) {
        const fields = input.getFields();
        const stringFields = Object.keys(fields).filter(f => {
            const typeName = graphql_1.getNamedType(fields[f].type);
            return typeName.name === 'String';
        });
        const isS3FileField = S3_FIELD_NAMES.every(fieldName => stringFields.includes(fieldName));
        if (isS3FileField) {
            return true;
        }
        return Object.keys(fields)
            .filter(f => !stringFields.includes(f))
            .some(f => hasS3Fields(fields[f]));
    }
    return false;
}
exports.hasS3Fields = hasS3Fields;
//# sourceMappingURL=complextypes.js.map
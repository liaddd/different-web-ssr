"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const graphql_1 = require("graphql");
const generateAllOperations_1 = require("./generateAllOperations");
function generate(schemaDocument, maxDepth) {
    try {
        const schemaDoc = graphql_1.buildClientSchema(schemaDocument);
        const queryTypes = schemaDoc.getQueryType();
        const mutationType = schemaDoc.getMutationType();
        const subscriptionType = schemaDoc.getSubscriptionType();
        const queries = generateAllOperations_1.generateQueries(queryTypes, schemaDoc, maxDepth) || [];
        const mutations = generateAllOperations_1.generateMutations(mutationType, schemaDoc, maxDepth) || [];
        const subscriptions = generateAllOperations_1.generateSubscriptions(subscriptionType, schemaDoc, maxDepth) || [];
        return { queries, mutations, subscriptions };
    }
    catch (e) {
        throw new Error('GraphQL schema file should contain a valid GraphQL introspection query result');
    }
}
exports.default = generate;
//# sourceMappingURL=generate.js.map